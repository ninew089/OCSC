{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jittananjackthreemongkol/Documents/GitHub/OCSC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/jittananjackthreemongkol/Documents/GitHub/OCSC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"/Users/jittananjackthreemongkol/Documents/GitHub/OCSC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jittananjackthreemongkol/Documents/GitHub/OCSC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import'../../index.css';import Alert from'@material-ui/lab/Alert';import put from'../../service/put';var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.primary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)}};});export default function Reset(){var classes=useStyles();var _React$useState=React.useState({oldpassword:'',newpassword:'',comfirmpassword:''}),_React$useState2=_slicedToArray(_React$useState,2),reset=_React$useState2[0],setReset=_React$useState2[1];var _React$useState3=React.useState({error:''}),_React$useState4=_slicedToArray(_React$useState3,2),error=_React$useState4[0],setError=_React$useState4[1];var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('re',reset);if(!(reset.newpassword!==reset.comfirmpassword)){_context.next=5;break;}setError(_objectSpread({},error,{error:false}));_context.next=11;break;case 5:_context.next=7;return put({oldPwd:reset.oldpassword,newPwd:reset.newpassword});case 7:result=_context.sent;if(result===200){setError(_objectSpread({},error,{error:true}));}if(result===500){setError(_objectSpread({},error,{error:500}));}if(result===401){setError(_objectSpread({},error,{error:401}));}case 11:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(\"div\",{className:classes.paper},/*#__PURE__*/React.createElement(Avatar,{className:classes.avatar},/*#__PURE__*/React.createElement(LockOutlinedIcon,null)),/*#__PURE__*/React.createElement(\"h2\",null,\"\\u0E40\\u0E1B\\u0E25\\u0E35\\u0E48\\u0E22\\u0E19\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"),error.error===false?/*#__PURE__*/React.createElement(Alert,{severity:\"error\"},\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E44\\u0E21\\u0E48\\u0E40\\u0E2B\\u0E21\\u0E37\\u0E2D\\u0E19\\u0E01\\u0E31\\u0E19\"):'',error.error===401?/*#__PURE__*/React.createElement(Alert,{severity:\"error\"},\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E40\\u0E14\\u0E34\\u0E21\\u0E1C\\u0E34\\u0E14\"):'',error.error===500?/*#__PURE__*/React.createElement(Alert,{severity:\"error\"},\"\\u0E40\\u0E01\\u0E34\\u0E14\\u0E02\\u0E49\\u0E2D\\u0E1C\\u0E34\\u0E14\\u0E1E\\u0E25\\u0E32\\u0E14\"):'',error.error===true?/*#__PURE__*/React.createElement(Alert,{severity:\"success\"},\"\\u0E40\\u0E1B\\u0E25\\u0E35\\u0E48\\u0E22\\u0E19\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E2A\\u0E33\\u0E40\\u0E23\\u0E47\\u0E08\"):'',/*#__PURE__*/React.createElement(\"form\",{className:classes.form,noValidate:true},/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",fullWidth:true,name:\"old-password\",type:\"password\",label:/*#__PURE__*/React.createElement(\"p\",null,\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E40\\u0E01\\u0E48\\u0E32\"),id:\"oldpassword\",autoComplete:\"current-password\",onChange:function onChange(e){return setReset(_objectSpread({},reset,{oldpassword:e.target.value}));}}),/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",fullWidth:true,name:\"password\",label:/*#__PURE__*/React.createElement(\"p\",null,\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E43\\u0E2B\\u0E21\\u0E48 (1)\"),type:\"password\",id:\"password\",autoComplete:\"current-password\",onChange:function onChange(e){return setReset(_objectSpread({},reset,{newpassword:e.target.value}));}}),/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",fullWidth:true,name:\"comfirmpassword\",label:/*#__PURE__*/React.createElement(\"p\",null,\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E43\\u0E2B\\u0E21\\u0E48 (2)\"),type:\"password\",id:\"comfirmpassword\",autoComplete:\"current-password\",onChange:function onChange(e){return setReset(_objectSpread({},reset,{comfirmpassword:e.target.value}));}})),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:onSubmit},/*#__PURE__*/React.createElement(\"h2\",null,\"\\u0E40\\u0E1B\\u0E25\\u0E35\\u0E48\\u0E22\\u0E19\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"))));}","map":{"version":3,"sources":["/Users/jittananjackthreemongkol/Documents/GitHub/OCSC/src/component/admin/Resetpassword.js"],"names":["React","Avatar","Button","CssBaseline","TextField","LockOutlinedIcon","makeStyles","Container","Alert","put","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","primary","main","form","width","submit","Reset","classes","useState","oldpassword","newpassword","comfirmpassword","reset","setReset","error","setError","onSubmit","console","log","oldPwd","newPwd","result","e","target","value"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Avatar from '@material-ui/core/Avatar'\nimport Button from '@material-ui/core/Button'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport TextField from '@material-ui/core/TextField'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Container from '@material-ui/core/Container'\nimport '../../index.css'\nimport Alert from '@material-ui/lab/Alert'\nimport put from '../../service/put'\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.primary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\nexport default function Reset() {\n  const classes = useStyles()\n\n  const [reset, setReset] = React.useState({\n    oldpassword: '',\n    newpassword: '',\n    comfirmpassword: '',\n  })\n  const [error, setError] = React.useState({ error: '' })\n  const onSubmit = async () => {\n    console.log('re', reset)\n    if (reset.newpassword !== reset.comfirmpassword) {\n      setError({ ...error, error: false })\n    } else {\n      const result = await put({\n        oldPwd: reset.oldpassword,\n        newPwd: reset.newpassword,\n      })\n      if (result === 200) {\n        setError({ ...error, error: true })\n      }\n\n      if (result === 500) {\n        setError({ ...error, error: 500 })\n      }\n      if (result === 401) {\n        setError({ ...error, error: 401 })\n      }\n    }\n  }\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n\n        <h2>เปลี่ยนรหัสผ่าน</h2>\n        {error.error === false ? (\n          <Alert severity=\"error\">รหัสผ่านไม่เหมือนกัน</Alert>\n        ) : (\n          ''\n        )}\n        {error.error === 401 ? (\n          <Alert severity=\"error\">รหัสผ่านเดิมผิด</Alert>\n        ) : (\n          ''\n        )}\n        {error.error === 500 ? (\n          <Alert severity=\"error\">เกิดข้อผิดพลาด</Alert>\n        ) : (\n          ''\n        )}\n        {error.error === true ? (\n          <Alert severity=\"success\">เปลี่ยนรหัสผ่านสำเร็จ</Alert>\n        ) : (\n          ''\n        )}\n        <form className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            fullWidth\n            name=\"old-password\"\n            type=\"password\"\n            label={<p>รหัสผ่านเก่า</p>}\n            id=\"oldpassword\"\n            autoComplete=\"current-password\"\n            onChange={(e) =>\n              setReset({ ...reset, oldpassword: e.target.value })\n            }\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            fullWidth\n            name=\"password\"\n            label={<p>รหัสผ่านใหม่ (1)</p>}\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            onChange={(e) =>\n              setReset({ ...reset, newpassword: e.target.value })\n            }\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            fullWidth\n            name=\"comfirmpassword\"\n            label={<p>รหัสผ่านใหม่ (2)</p>}\n            type=\"password\"\n            id=\"comfirmpassword\"\n            autoComplete=\"current-password\"\n            onChange={(e) =>\n              setReset({ ...reset, comfirmpassword: e.target.value })\n            }\n          />\n        </form>\n\n        <Button\n          type=\"submit\"\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submit}\n          onClick={onSubmit}\n        >\n          <h2>เปลี่ยนรหัสผ่าน</h2>\n        </Button>\n      </div>\n    </Container>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}