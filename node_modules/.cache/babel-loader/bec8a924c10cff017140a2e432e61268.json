{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar base_1 = require(\"./attributes/base\");\n\nexports.Attribute = base_1.default; // 所有的 attribute map\n\nvar ATTRIBUTE_MAP = {};\n/**\n * 通过类型获得 Attribute 类\n * @param type\n */\n\nvar getAttribute = function (type) {\n  return ATTRIBUTE_MAP[type.toLowerCase()];\n};\n\nexports.getAttribute = getAttribute;\n\nvar registerAttribute = function (type, ctor) {\n  // 注册的时候，需要校验 type 重名，不区分大小写\n  if (getAttribute(type)) {\n    throw new Error(\"Attribute type '\" + type + \"' existed.\");\n  } // 存储到 map 中\n\n\n  ATTRIBUTE_MAP[type.toLowerCase()] = ctor;\n};\n\nexports.registerAttribute = registerAttribute;\n\ntslib_1.__exportStar(require(\"./interface\"), exports);","map":{"version":3,"sources":["../src/factory.ts"],"names":[],"mappings":";;;;;;;;AAAA,IAAA,MAAA,GAAA,OAAA,CAAA,mBAAA,CAAA;;AA0B0C,OAAA,CAAA,SAAA,GA1BnC,MAAA,CAAA,OA0BmC,C,CApB1C;;AACA,IAAM,aAAa,GAAqB,EAAxC;AAEA;;;;;AAIA,IAAM,YAAY,GAAG,UAAC,IAAD,EAAa;AAChC,SAAO,aAAa,CAAC,IAAI,CAAC,WAAL,EAAD,CAApB;AACD,CAFD;;AAaS,OAAA,CAAA,YAAA,GAAA,YAAA;;AATT,IAAM,iBAAiB,GAAG,UAAC,IAAD,EAAe,IAAf,EAAyC;AACjE;AACA,MAAI,YAAY,CAAC,IAAD,CAAhB,EAAwB;AACtB,UAAM,IAAI,KAAJ,CAAU,qBAAmB,IAAnB,GAAuB,YAAjC,CAAN;AACD,GAJgE,CAKjE;;;AACA,EAAA,aAAa,CAAC,IAAI,CAAC,WAAL,EAAD,CAAb,GAAoC,IAApC;AACD,CAPD;;AASuB,OAAA,CAAA,iBAAA,GAAA,iBAAA;;AACvB,OAAA,CAAA,YAAA,CAAA,OAAA,CAAA,aAAA,CAAA,EAAA,OAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar base_1 = require(\"./attributes/base\");\nexports.Attribute = base_1.default;\n// 所有的 attribute map\nvar ATTRIBUTE_MAP = {};\n/**\n * 通过类型获得 Attribute 类\n * @param type\n */\nvar getAttribute = function (type) {\n    return ATTRIBUTE_MAP[type.toLowerCase()];\n};\nexports.getAttribute = getAttribute;\nvar registerAttribute = function (type, ctor) {\n    // 注册的时候，需要校验 type 重名，不区分大小写\n    if (getAttribute(type)) {\n        throw new Error(\"Attribute type '\" + type + \"' existed.\");\n    }\n    // 存储到 map 中\n    ATTRIBUTE_MAP[type.toLowerCase()] = ctor;\n};\nexports.registerAttribute = registerAttribute;\ntslib_1.__exportStar(require(\"./interface\"), exports);\n//# sourceMappingURL=factory.js.map"]},"metadata":{},"sourceType":"script"}