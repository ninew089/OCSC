{"ast":null,"code":"import _objectSpread from\"/Users/jittananjackthreemongkol/Documents/GitHub/OCSC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/jittananjackthreemongkol/Documents/GitHub/OCSC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jittananjackthreemongkol/Documents/GitHub/OCSC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/jittananjackthreemongkol/Documents/GitHub/OCSC/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import TextField from\"@material-ui/core/TextField\";import Paper from\"@material-ui/core/Paper\";import Box from\"@material-ui/core/Box\";import Grid from\"@material-ui/core/Grid\";import BackgroundHeader from\"../../pic/001-02.png\";import{makeStyles}from\"@material-ui/core/styles\";import\"../../index.css\";import logo from\"../../pic/ocsc-logo_7.png\";import{Redirect}from\"react-router\";import axios from\"axios\";import post from\"../../service/postlogin\";import Alert from\"@material-ui/lab/Alert\";var useStyles=makeStyles(function(theme){return{root:{height:\"100vh\"},image:{backgroundImage:\"url(\"+BackgroundHeader+\")\",backgroundRepeat:\"no-repeat\",backgroundColor:theme.palette.type===\"light\"?theme.palette.grey[50]:theme.palette.grey[900],backgroundSize:\"cover\",backgroundPosition:\"center\"},paper:{margin:theme.spacing(8,4),display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:\"100%\",// Fix IE 11 issue.\nmarginTop:theme.spacing(1)},submit:{margin:theme.spacing(3,0,2)}};});export default function Information(){// post id ,user name >> get response success get token >>save token in http header, fail return false\nvar classes=useStyles();//const [information, setInformation] = useState(Data);\nvar _useState=useState({user:\"\",password:\"\",authen:false}),_useState2=_slicedToArray(_useState,2),loginId=_useState2[0],setLogin=_useState2[1];function getCookie(name){var nameEQ=name+\"=\";var ca=document.cookie.split(\";\");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)===\" \"){c=c.substring(1,c.length);}if(c.indexOf(nameEQ)===0)return c.substring(nameEQ.length,c.length);}return null;}function spu_createCookie(name,value,hours){if(hours){var date=new Date();date.setTime(date.getTime()+hours*60*60*1000);var expires=\"; expires=\"+date.toGMTString();}else{// eslint-disable-next-line\nvar expires=\"\";}document.cookie=name+\"=\"+value+expires+\"; \";}var loginbotton={width:\"-webkit-fill-available\",height:\"40px\",color:\"white\",background:\"royalblue\",border:\"hidden\",borderradius:\"4px\"};var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),stat=_React$useState2[0],setStatus=_React$useState2[1];var onLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return post({Pwd:loginId.password},loginId.user);case 2:result=_context.sent;if(result===404){setStatus({stat:404,fetch:true,text:\"ไม่มีรหัสผู้ใช้\"});}if(result===401){setStatus({stat:401,fetch:false,text:\"รหัสผ่านไม่ถูกต้อง\"});}if(result===\"NotAuthorized\"){setStatus({stat:401,fetch:false,text:\"NotAuthorized\"});}if(result===500){setStatus({stat:500,fetch:false,text:\"ความผิดพลาดของโปรแกรม\"});}if(result===999){setStatus({stat:999,fetch:false,text:\"เกิดความผิดพลาด\"});}if(result!==404|result!==401|result!==500|result!==999){if(result.token!==null||result.token!==undefined){spu_createCookie(\"uid\",result.uid,3);if(getCookie(\"uid\")===loginId.user){spu_createCookie(\"token\",result.token,3);setStatus({stat:200,fetch:true,text:\"ok\"});}else{}}}case 9:case\"end\":return _context.stop();}}},_callee);}));return function onLogin(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(Grid,{container:true,position:\"center\",justify:\"center\",alignContent:\"center\",component:\"main\",className:classes.root},/*#__PURE__*/React.createElement(Grid,{item:true,position:\"center\",xs:12,sm:8,md:5,component:Paper,elevation:8},/*#__PURE__*/React.createElement(\"div\",{className:classes.paper},/*#__PURE__*/React.createElement(Box,{mt:5},/*#__PURE__*/React.createElement(\"img\",{src:logo,width:300,alt:\"logo\"})),/*#__PURE__*/React.createElement(\"h2\",null,\"\\u0E23\\u0E30\\u0E1A\\u0E1A\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E04\\u0E27\\u0E32\\u0E21\\u0E2A\\u0E19\\u0E43\\u0E08\\u0E02\\u0E2D\\u0E07\\u0E1A\\u0E38\\u0E04\\u0E04\\u0E25\\u0E17\\u0E35\\u0E48\\u0E21\\u0E35\\u0E15\\u0E48\\u0E2D\\u0E2B\\u0E19\\u0E48\\u0E27\\u0E22\\u0E07\\u0E32\\u0E19\\u0E23\\u0E32\\u0E0A\\u0E01\\u0E32\\u0E23\\u0E44\\u0E17\\u0E22\"),/*#__PURE__*/React.createElement(\"form\",{className:classes.form},stat.stat===404?/*#__PURE__*/React.createElement(Alert,{severity:\"error\"},/*#__PURE__*/React.createElement(\"p\",null,stat.text)):\"\",stat.fetch===false?/*#__PURE__*/React.createElement(Alert,{severity:\"error\"},/*#__PURE__*/React.createElement(\"p\",null,\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\\u0E44\\u0E21\\u0E48\\u0E16\\u0E39\\u0E01\\u0E15\\u0E49\\u0E2D\\u0E07\")):\"\",/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",fullWidth:true,id:\"username\",label:/*#__PURE__*/React.createElement(\"p\",null,\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\"),name:\"username\",autoComplete:\"username\",autoFocus:true,onChange:function onChange(e){return setLogin(_objectSpread({},loginId,{user:e.target.value}));}}),/*#__PURE__*/React.createElement(TextField,{variant:\"outlined\",margin:\"normal\",fullWidth:true,name:\"password\",label:/*#__PURE__*/React.createElement(\"p\",null,\"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\"),type:\"password\",id:\"password\",autoComplete:\"current-password\",onChange:function onChange(e){return setLogin(_objectSpread({},loginId,{password:e.target.value}));}})),/*#__PURE__*/React.createElement(\"button\",{onClick:onLogin,style:loginbotton},/*#__PURE__*/React.createElement(\"p\",null,\"\\u0E25\\u0E07\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E40\\u0E02\\u0E49\\u0E32\\u0E43\\u0E0A\\u0E49\\u0E23\\u0E30\\u0E1A\\u0E1A\")),getCookie(\"token\")!==null?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Redirect,{push:true,to:\"/admin/dash\"})):\"\")));}","map":{"version":3,"sources":["/Users/jittananjackthreemongkol/Documents/GitHub/OCSC/src/Pages/admin/Login.js"],"names":["React","useState","TextField","Paper","Box","Grid","BackgroundHeader","makeStyles","logo","Redirect","axios","post","Alert","useStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","Information","classes","user","password","authen","loginId","setLogin","getCookie","name","nameEQ","ca","document","cookie","split","i","length","c","charAt","substring","indexOf","spu_createCookie","value","hours","date","Date","setTime","getTime","expires","toGMTString","loginbotton","color","background","border","borderradius","stat","setStatus","onLogin","Pwd","result","fetch","text","token","undefined","uid","e","target"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport BackgroundHeader from \"../../pic/001-02.png\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport \"../../index.css\";\nimport logo from \"../../pic/ocsc-logo_7.png\";\nimport { Redirect } from \"react-router\";\nimport axios from \"axios\";\nimport post from \"../../service/postlogin\";\nimport Alert from \"@material-ui/lab/Alert\";\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100vh\",\n  },\n  image: {\n    backgroundImage: \"url(\" + BackgroundHeader + \")\",\n    backgroundRepeat: \"no-repeat\",\n\n    backgroundColor:\n      theme.palette.type === \"light\"\n        ? theme.palette.grey[50]\n        : theme.palette.grey[900],\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nexport default function Information() {\n  // post id ,user name >> get response success get token >>save token in http header, fail return false\n  const classes = useStyles();\n  //const [information, setInformation] = useState(Data);\n  const [loginId, setLogin] = useState({\n    user: \"\",\n    password: \"\",\n    authen: false,\n  });\n  function getCookie(name) {\n    var nameEQ = name + \"=\";\n    var ca = document.cookie.split(\";\");\n    for (var i = 0; i < ca.length; i++) {\n      var c = ca[i];\n      while (c.charAt(0) === \" \") c = c.substring(1, c.length);\n      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n  }\n  function spu_createCookie(name, value, hours) {\n    if (hours) {\n      var date = new Date();\n      date.setTime(date.getTime() + hours * 60 * 60 * 1000);\n      var expires = \"; expires=\" + date.toGMTString();\n    } else {\n      // eslint-disable-next-line\n      var expires = \"\";\n    }\n\n    document.cookie = name + \"=\" + value + expires + \"; \";\n  }\n\n  const loginbotton = {\n    width: \"-webkit-fill-available\",\n    height: \"40px\",\n    color: \"white\",\n\n    background: \"royalblue\",\n    border: \"hidden\",\n    borderradius: \"4px\",\n  };\n  const [stat, setStatus] = React.useState(\"\");\n  const onLogin = async () => {\n    const result = await post({ Pwd: loginId.password }, loginId.user);\n\n    if (result === 404) {\n      setStatus({ stat: 404, fetch: true, text: \"ไม่มีรหัสผู้ใช้\" });\n    }\n\n    if (result === 401) {\n      setStatus({\n        stat: 401,\n        fetch: false,\n        text: \"รหัสผ่านไม่ถูกต้อง\",\n      });\n    }\n    if (result === \"NotAuthorized\") {\n      setStatus({\n        stat: 401,\n        fetch: false,\n        text: \"NotAuthorized\",\n      });\n    }\n    if (result === 500) {\n      setStatus({ stat: 500, fetch: false, text: \"ความผิดพลาดของโปรแกรม\" });\n    }\n    if (result === 999) {\n      setStatus({ stat: 999, fetch: false, text: \"เกิดความผิดพลาด\" });\n    }\n    if (\n      (result !== 404) |\n      (result !== 401) |\n      (result !== 500) |\n      (result !== 999)\n    ) {\n      if (result.token !== null || result.token !== undefined) {\n        spu_createCookie(\"uid\", result.uid, 3);\n\n        if (getCookie(\"uid\") === loginId.user) {\n          spu_createCookie(\"token\", result.token, 3);\n\n          setStatus({ stat: 200, fetch: true, text: \"ok\" });\n        } else {\n        }\n      }\n    }\n  };\n\n  return (\n    <Grid\n      container\n      position=\"center\"\n      justify=\"center\"\n      alignContent=\"center\"\n      component=\"main\"\n      className={classes.root}\n    >\n      <Grid\n        item\n        position=\"center\"\n        xs={12}\n        sm={8}\n        md={5}\n        component={Paper}\n        elevation={8}\n      >\n        <div className={classes.paper}>\n          <Box mt={5}>\n            <img src={logo} width={300} alt=\"logo\" />\n          </Box>\n\n          <h2>ระบบประเมินความสนใจของบุคคลที่มีต่อหน่วยงานราชการไทย</h2>\n\n          <form className={classes.form}>\n            {stat.stat === 404 ? (\n              <Alert severity=\"error\">\n                <p>{stat.text}</p>\n              </Alert>\n            ) : (\n              \"\"\n            )}\n            {stat.fetch === false ? (\n              <Alert severity=\"error\">\n                <p>รหัสผ่านไม่ถูกต้อง</p>\n              </Alert>\n            ) : (\n              \"\"\n            )}\n\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              fullWidth\n              id=\"username\"\n              label={<p>รหัสผู้ใช้</p>}\n              name=\"username\"\n              autoComplete=\"username\"\n              autoFocus\n              onChange={(e) => setLogin({ ...loginId, user: e.target.value })}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              fullWidth\n              name=\"password\"\n              label={<p>รหัสผ่าน</p>}\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={(e) =>\n                setLogin({ ...loginId, password: e.target.value })\n              }\n            />\n          </form>\n\n          <button onClick={onLogin} style={loginbotton}>\n            <p>ลงชื่อเข้าใช้ระบบ</p>\n          </button>\n          {getCookie(\"token\") !== null ? (\n            <div>\n              <Redirect push to=\"/admin/dash\" />\n            </div>\n          ) : (\n            \"\"\n          )}\n        </div>\n      </Grid>\n    </Grid>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}